{% extends "base.html" %} {% block title %}Edit Product{% endblock %} {% block
content_block %}
<div class="container">
  <h1>{% if product %}Edit Product{% else %}Add New Product{% endif %}</h1>

  <form
    method="POST"
    action="{{ url_for('views.edit_product', product_id=product.id) if product else url_for('views.edit_product') }}"
  >
    {% if product %}
    <input type="hidden" name="product_id" value="{{ product.id }}" />
    {% endif %}

    <div>
      <label for="name">Name:</label>
      <input
        type="text"
        id="name"
        name="name"
        value="{{ product.name if product else '' }}"
        required
      />
    </div>

    <div>
      <label for="sku">SKU:</label>
      <input
        type="text"
        id="sku"
        name="sku"
        value="{{ product.sku if product else '' }}"
        required
      />
    </div>

    <div class="selector-container">
      <label for="category" class="selector-label">Category:</label>
      <select id="category" name="category" class="custom-select" required>
        <option value="" disabled {% if not product %}selected{% endif %}>
          Select a category
        </option>
        {% for category in categories %} <option value="{{ category.name }}" {%
        if product and category.name == product.category %}selected{% endif %}>
        {{ category.name }} {% endfor %}
      </select>
    </div>

    <div>
      <label for="price">Price:</label>
      <input
        type="number"
        id="price"
        name="price"
        step="0.01"
        min="0"
        value="{{ product.price if product else '' }}"
        required
      />
    </div>

    <div>
      <label for="quantity">Quantity:</label>
      <input
        type="number"
        id="quantity"
        name="quantity"
        min="0"
        value="{{ product.quantity if product else '' }}"
        required
      />
    </div>

    <div>
      <label for="supplier">Supplier:</label>
      <input
        type="text"
        id="supplier"
        name="supplier"
        value="{{ product.supplier if product else '' }}"
      />
    </div>

    <div>
      <label for="description">Description:</label>
      <textarea id="description" name="description">
{{ product.description if product else '' }}</textarea
      >
    </div>

    <button type="submit">
      {% if product %}Update{% else %}Add{% endif %}
    </button>
  </form>
</div>
{% endblock %}
